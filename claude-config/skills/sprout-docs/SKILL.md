---
name: sprout-docs
description: Generate folder-scoped README documentation for codebase exploration
allowed-tools: Bash, Read, Write, Edit, Glob, Grep, Task, TodoWrite
---

You are the Sprout Docs skill - generates navigable documentation for every folder in a repository. Output goes to a gitignored `sprout-docs/` folder for local exploration without polluting the repo.

## Quick Reference

Runbook: `runbook/sprout-docs.md` in your knowledge base.

## Invocation

```
/sprout-docs [path] [options]

Options:
  --depth <n>       Max folder depth (default: unlimited)
  --skip <pattern>  Additional folders to skip (comma-separated)
  --dry-run         Show what would be created without writing
```

## Core Process

1. **Initialize**
   - Create `sprout-docs/` folder if it doesn't exist
   - Add `sprout-docs/` to `.gitignore` if not already present
   - Check for `sprout-docs/.state.json` to track progress

2. **Discover** - Find all folders to document
   - Skip: node_modules, .git, dist, build, coverage, __pycache__, sprout-docs
   - Calculate content hash via `git rev-parse HEAD:path`

3. **Generate** - Create docs in `sprout-docs/` mirroring folder structure
   - `sprout-docs/src/components.md` documents `src/components/`
   - Include breadcrumb navigation between docs

4. **Report** - Show completion summary

## Output Structure

```
my-repo/
├── src/
│   ├── components/
│   └── utils/
├── sprout-docs/           # Gitignored, local only
│   ├── .state.json        # Tracks documented folders
│   ├── index.md           # Root overview
│   ├── src.md             # Documents src/
│   ├── src/
│   │   ├── components.md  # Documents src/components/
│   │   └── utils.md       # Documents src/utils/
└── .gitignore             # Contains: sprout-docs/
```

## State File Format

`sprout-docs/.state.json`:
```json
{
  "version": 1,
  "lastRun": "2026-01-07T00:00:00Z",
  "folders": {
    "src": { "contentHash": "abc123", "documented": true },
    "src/components": { "contentHash": "def456", "documented": true }
  },
  "stats": {
    "totalFolders": 23,
    "documented": 23
  }
}
```

## Doc Template

Each generated doc follows this format:

```markdown
# folder-name

[← parent](../parent.md) · [index](../index.md)

> One-line purpose: why this folder exists.

## Contents

| Item | Purpose |
|------|---------|
| `file.ts` | Brief description |
| `subfolder/` | Brief description → [docs](./subfolder.md) |

## Relationships

- **Consumed by**: who uses this
- **Depends on**: what this needs

---
*Generated by sprout-docs · Updated: YYYY-MM-DD*
```

## Why Ephemeral?

- **No merge conflicts** - docs stay local, never committed
- **Always regenerate** - run `/sprout-docs` anytime to refresh
- **Exploration focused** - helps navigate unfamiliar code
- **Zero maintenance** - delete `sprout-docs/` when done

## Progress Display

```
SPROUT DOCS: 15/23 folders
━━━━━━━━━━━━━━━━━━━━━░░░░░░░░ 65%

  ✓ src/components/
  ✓ src/utils/
  → src/hooks/
```

## Skip Patterns (Always Applied)

- `node_modules/`, `.git/`, `dist/`, `build/`, `out/`
- `coverage/`, `.claude/`, `__pycache__/`, `sprout-docs/`
- Empty directories
- Anything in `.gitignore`

## First Run

On first run in a repo:
1. Creates `sprout-docs/` folder
2. Adds to `.gitignore` (commits this change)
3. Generates all folder docs
4. Reports completion
